<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>Board</title>
  <link rel="stylesheet" href="assets/css/style.css?v=1.0.0">
</head>

<body>
  <div class="app">
    <div class="sidebar">
      <div class="sidebar-header">Board</div>
      <ul class="contact-list"></ul>
    </div>
    <div class="chat">
      <div class="chat-header">
        <div class="chat-title" id="chatTitle">Load...</div>
        <div class="avatar-small profile-icon" id="profileIcon" onclick="document.getElementById('profileMenu').classList.toggle('show');"></div>
      </div>
      <div class="profile-menu" id="profileMenu">
        <div class="menu-header">
          <div class="menu-username" id="menuUsername" onclick="openProfileModal()"></div>
        </div>
        <div class="menu-items">
          <div class="menu-item" onclick="openProfileModal()">
            <svg class="svg-small" viewBox="0 0 24 24">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            Edit Profile
          </div>
          <div class="menu-item" onclick="openGroupModal()">
            <svg class="svg-small" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" />
            </svg>
            Create group
          </div>
        </div>
      </div>
      <div class="messages" id="messages"></div>
      <div class="chat-footer">
        <input type="text" class="message-input" id="messageInput" placeholder="Write a message...">
        <button class="send-btn" id="sendBtn">
          <svg class="svg-small" viewBox="0 0 24 24" width="24" height="24">
            <path d="M5 3v18l15-9L5 3z" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="groupModal" onclick="if(event.target===this) closeGroupModal()">
    <div class="modal">
      <div class="modal-header">
        <span>Create group</span>
        <span class="modal-close" onclick="closeGroupModal()">✕</span>
      </div>
      <div class="modal-body">
        <input type="text" class="modal-input" id="groupName" placeholder="Name">
        <input type="text" class="modal-input" id="groupTitle" placeholder="Title">
        <textarea class="modal-input" id="groupDescription" placeholder="Description" rows="2"></textarea>
        <div class="modal-file">
          <label for="groupAvatar" class="modal-file-label">Choose avatar</label>
          <span class="modal-file-name" id="avatarFileName">No file chosen</span>
          <input type="file" id="groupAvatar" accept="image/*" style="display: none">
        </div>
      </div>
      <div class="modal-footer">
        <button class="modal-btn modal-btn-cancel" onclick="closeGroupModal()">Cancel</button>
        <button class="modal-btn modal-btn-create" onclick="createGroupFromModal()">Create</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="profileModal" onclick="if(event.target===this) closeProfileModal()">
    <div class="modal">
      <div class="modal-header">
        <span>Edit Profile</span>
        <span class="modal-close" onclick="closeProfileModal()">✕</span>
      </div>
      <div class="modal-body">
        <input type="text" class="modal-input" id="profileUsername" placeholder="Username" value="user">
        <div class="color-input-row">
          <input type="text" class="modal-input" id="profileColor" placeholder="Color (hex)" value="#a0d6ff">
        </div>
        <div class="modal-file">
          <label for="profileAvatar" class="modal-file-label">Choose avatar</label>
          <span class="modal-file-name" id="profileAvatarFileName">No file chosen</span>
          <input type="file" id="profileAvatar" accept="image/*" style="display: none">
        </div>
      </div>
      <div class="modal-footer">
        <button class="modal-btn modal-btn-cancel" onclick="closeProfileModal()">Cancel</button>
        <button class="modal-btn modal-btn-create" onclick="saveProfile()">Save</button>
      </div>
    </div>
  </div>
  
  <script src="assets/js/api.js"></script>
  <script src="assets/js/group.js"></script>
  <script src="assets/js/script.js?v=0.5.0"></script>
</body>
</html>